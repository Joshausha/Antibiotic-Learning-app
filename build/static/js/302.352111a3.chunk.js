"use strict";(self.webpackChunkantibiotic_learning_app=self.webpackChunkantibiotic_learning_app||[]).push([[302],{921:(e,s,t)=>{t.r(s),t.d(s,{default:()=>l});var n=t(43),i=t(734),a=t(490),r=t(579);const l=e=>{let{network:s,selectedPathogen:t,onSelectPathogen:l,onShowPathDetails:c,className:o=""}=e;const d=(0,n.useRef)(null),[h,g]=(0,n.useState)({width:800,height:600}),[x,m]=(0,n.useState)(null),[u,p]=(0,n.useState)("all"),[f,j]=(0,n.useState)(!0);(0,n.useEffect)(()=>{const e=()=>{if(d.current){const e=d.current.getBoundingClientRect();g({width:Math.max(600,e.width),height:Math.max(400,600)})}};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]);const v=s||{nodes:[{id:"S. aureus",gramStatus:"Positive",connections:5,centralityScore:.8},{id:"E. coli",gramStatus:"Negative",connections:6,centralityScore:.9},{id:"S. pneumoniae",gramStatus:"Positive",connections:4,centralityScore:.7},{id:"P. aeruginosa",gramStatus:"Negative",connections:3,centralityScore:.6},{id:"C. difficile",gramStatus:"Positive",connections:2,centralityScore:.4}],edges:[{source:"S. aureus",target:"S. pneumoniae",weight:.7,type:"strong"},{source:"E. coli",target:"P. aeruginosa",weight:.6,type:"medium"},{source:"S. aureus",target:"E. coli",weight:.3,type:"weak"}]},y=(e,s)=>{const t=e/s*2*Math.PI,n=.3*Math.min(h.width,h.height),i=h.width/2,a=h.height/2;return{x:i+n*Math.cos(t),y:a+n*Math.sin(t)}},N=()=>"all"===u?v.edges:v.edges.filter(e=>e.type===u);return(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border ".concat(o),children:[(0,r.jsxs)("div",{className:"p-4 border-b",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(i.A,{className:"text-blue-600",size:20}),(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Pathogen Network"}),(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:["(",v.nodes.length," pathogens, ",N().length," connections)"]})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(a.A,{size:16,className:"text-gray-600"}),(0,r.jsxs)("select",{value:u,onChange:e=>p(e.target.value),className:"border rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"all",children:"All Connections"}),(0,r.jsx)("option",{value:"strong",children:"Strong Only"}),(0,r.jsx)("option",{value:"medium",children:"Medium Only"}),(0,r.jsx)("option",{value:"weak",children:"Weak Only"})]})]}),(0,r.jsxs)("label",{className:"flex items-center gap-1",children:[(0,r.jsx)("input",{type:"checkbox",checked:f,onChange:e=>j(e.target.checked),className:"rounded"}),"Show Labels"]})]})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("svg",{ref:d,width:h.width,height:h.height,className:"border rounded-lg bg-gray-50",children:[(0,r.jsx)("defs",{children:(0,r.jsx)("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:(0,r.jsx)("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"#f3f4f6",strokeWidth:"1"})})}),(0,r.jsx)("rect",{width:"100%",height:"100%",fill:"url(#grid)"}),(0,r.jsx)("g",{className:"edges",children:N().map((e,s)=>{const t=v.nodes.findIndex(s=>s.id===e.source),n=v.nodes.findIndex(s=>s.id===e.target);if(-1===t||-1===n)return null;const i=y(t,v.nodes.length),a=y(n,v.nodes.length);return(0,r.jsx)("line",{x1:i.x,y1:i.y,x2:a.x,y2:a.y,stroke:{strong:"#059669",medium:"#f59e0b",weak:"#6b7280"}[e.type]||"#6b7280",strokeWidth:"strong"===e.type?3:"medium"===e.type?2:1,opacity:.6,className:"transition-all duration-200"},s)})}),(0,r.jsx)("g",{className:"nodes",children:v.nodes.map((e,s)=>{const n=y(s,v.nodes.length),i=(e=>{const s=t&&t.id===e.id,n=x&&x.id===e.id,i={Positive:"#a855f7",Negative:"#ef4444",Unknown:"#10b981"};return{fill:i[e.gramStatus]||i.Unknown,stroke:s?"#1f2937":"#ffffff",strokeWidth:s?3:2,opacity:n?.9:.8}})(e),a=(e=>Math.max(8,Math.min(20,8+2*(e.connections||0))))(e),c=t&&t.id===e.id;x&&(x.id,e.id);return(0,r.jsxs)("g",{children:[(0,r.jsx)("circle",{cx:n.x,cy:n.y,r:a,fill:i.fill,stroke:i.stroke,strokeWidth:i.strokeWidth,opacity:i.opacity,className:"cursor-pointer transition-all duration-200 hover:scale-110 ".concat(c?"animate-pulse":""),onClick:()=>(e=>{l&&l(e)})(e),onMouseEnter:()=>m(e),onMouseLeave:()=>m(null)}),f&&(0,r.jsx)("text",{x:n.x,y:n.y+a+12,textAnchor:"middle",className:"fill-gray-700 text-xs font-medium pointer-events-none",style:{fontSize:"11px"},children:e.id}),e.connections>3&&(0,r.jsx)("circle",{cx:n.x+a-4,cy:n.y-a+4,r:"6",fill:"#3b82f6",className:"pointer-events-none"})]},e.id)})})]}),x&&(0,r.jsxs)("div",{className:"absolute bg-white border rounded-lg shadow-lg p-3 pointer-events-none z-10",style:{left:20,top:20},children:[(0,r.jsx)("div",{className:"font-medium text-gray-900",children:x.id}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Gram ",x.gramStatus," \u2022 ",x.connections," connections"]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Centrality: ",(100*(x.centralityScore||0)).toFixed(1),"%"]})]})]}),(0,r.jsx)("div",{className:"p-4 border-t bg-gray-50",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),(0,r.jsx)("span",{children:"Gram Positive"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,r.jsx)("span",{children:"Gram Negative"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,r.jsx)("span",{children:"Unknown/Other"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-1 bg-green-600"}),(0,r.jsx)("span",{children:"Strong (>60%)"})]})]})})]})}}}]);
//# sourceMappingURL=302.352111a3.chunk.js.map